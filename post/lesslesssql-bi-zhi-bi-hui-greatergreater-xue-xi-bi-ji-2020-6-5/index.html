<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>《SQL必知必会》学习笔记-2020-6-5 | Bishop&#39;s Learning Space</title>
<meta name="description" content="Live and learn. ">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://Superbishop.github.io/favicon.ico?v=1591332162354">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://Superbishop.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://Superbishop.github.io">
        <img src="https://Superbishop.github.io/images/avatar.png?v=1591332162354" class="site-logo">
        <h1 class="site-title">Bishop&#39;s Learning Space</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://Superbishop.github.io" class="site-nav" target="_blank">
            Homepage
          </a>
        
      
        
          <a href="/archives" class="site-nav" target="_blank">
            Archives
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Tags
          </a>
        
      
        
          <a href="/post/about" class="site-nav" target="_blank">
            About
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Live and learn. 
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://Superbishop.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">《SQL必知必会》学习笔记-2020-6-5</h2>
            <div class="post-date">2020-06-05</div>
            
            <div class="post-content">
              <h3 id="select-语句">SELECT 语句</h3>
<p><strong>用途是从一个或多个表中检索信息。</strong></p>
<h4 id="关键字keyword">关键字（keyword）</h4>
<p>作为SQL 组成部分的保留字。关键字不能用作表或列的名字。</p>
<p>为了使用SELECT 检索表数据，必须至少给出两条信息——想选择什么，<br>
以及从什么地方选择。</p>
<p>SQL 是一种语言而不是一个应用程序。</p>
<p>具体如何写SQL 语句并显示语句输出，是随不同的应用程序而变化的</p>
<hr>
<h4 id="检索单个列">检索单个列</h4>
<p>利用SELECT 语句从Products 表中检索一个名为prod_name的列。</p>
<p>输入：</p>
<pre><code>SELECT prod_name
FROM Products;
</code></pre>
<p>输出：</p>
<pre><code>prod_name
-------------------
Fish bean bag toy
Bird bean bag toy
Rabbit bean bag toy
8 inch teddy bear
12 inch teddy bear
18 inch teddy bear
Raggedy Ann
King doll
Queen doll
</code></pre>
<hr>
<h4 id="sql书写规范">SQL书写规范</h4>
<ol>
<li>
<p>多条SQL 语句必须以分号（；）分隔。</p>
</li>
<li>
<p>SQL 语句不区分大小写，因此SELECT 与select 是相同的。同样，写成Select 也没有关系。许多SQL 开发人员喜欢对<strong>SQL 关键字使用大写</strong>，而<strong>对列名和表名使用小写</strong>，这样做使代码更<em>易于阅读和调试</em>。</p>
</li>
<li>
<p>在处理SQL 语句时，其中所有空格都被忽略。以下三种写法等效的，但第一、三种写法符合多数SQL 开发人员习惯，便于阅读和调试。</p>
<pre><code>SELECT prod_name
FROM Products;

SELECT prod_name FROM Products;

SELECT
prod_name
FROM
Products;
</code></pre>
</li>
</ol>
<hr>
<h4 id="检索多个列">检索多个列</h4>
<p>在SELECT 关键字后给出多个列名，列名之间必须以逗号分隔。</p>
<p>输入：</p>
<pre><code>SELECT prod_id, prod_name, prod_price
FROM Products;
</code></pre>
<p>输出：</p>
<pre><code>prod_id prod_name prod_price
--------- -------------------- ----------
BNBG01 Fish bean bag toy 3.4900
BNBG02 Bird bean bag toy 3.4900
BNBG03 Rabbit bean bag toy 3.4900
BR01 8 inch teddy bear 5.9900
BR02 12 inch teddy bear 8.9900
BR03 18 inch teddy bear 11.9900
RGAN01 Raggedy Ann 4.9900
RYL01 King doll 9.4900
RYL02 Queen dool 9.4900
</code></pre>
<blockquote>
<p>SQL 语句一般返回原始的、无格式的数据。数据的格式化是表示问题，而不是检索问题。因此，表示（如把上面的价格值显示为正确的十进制数值货币金额）一般在显示该数据的应用程序中规定。通常很少直接使用实际检索出的数据（没有应用程序提供的格式）。</p>
</blockquote>
<hr>
<h4 id="检索所有列">检索所有列</h4>
<p>除了指定所需的列外（如上所述，一个或多个列），SELECT 语句还可以<br>
检索所有的列而不必逐个列出它们。在实际列名的位置使用星号（*）通<br>
配符可以做到这点，如下所示。<br>
输入▼</p>
<pre><code>SELECT *
FROM Products;
</code></pre>
<blockquote>
<p>缺点：检索不需要的列通常会降低检索和应用程序的性能</p>
</blockquote>
<blockquote>
<p>优点：由于不明确指定列名（因为星号检索每一列），所以能检索出名字未知的列</p>
</blockquote>
<hr>
<h4 id="检索不同的值">检索不同的值</h4>
<p>检索products 表中所有产品供应商的ID：</p>
<p>输入▼</p>
<pre><code>SELECT vend_id
FROM Products;
</code></pre>
<p>输出▼</p>
<pre><code>vend_id
------
BRS01
BRS01
BRS01
DLL01
DLL01
DLL01
DLL01
FNG01
FNG01
</code></pre>
<blockquote>
<p>SELECT 语句返回9 行（即使表中只有3 个产品供应商），因为products表中有9 种产品。</p>
</blockquote>
<p>检索出不同的值</p>
<p>输入▼</p>
<pre><code>SELECT DISTINCT vend_id
FROM Products;
</code></pre>
<p>输出▼</p>
<pre><code>vend_id
------
BRS01
DLL01
FNG01
</code></pre>
<p><strong>如果使用DISTINCT 关键字，它必须直接放在列名的前面。</strong></p>
<hr>
<h4 id="限制结果">限制结果</h4>
<p>SELECT 语句返回指定表中所有匹配的行，很可能是每一行。如果你只想<br>
返回第一行或者一定数量的行，该怎么办呢？</p>
<ul>
<li>在SQL Server 和Access 中使用SELECT 时，可以使用TOP 关键字来限制最多返回多少行，如下所示：</li>
</ul>
<p>输入▼</p>
<pre><code>SELECT TOP 5 prod_name
FROM Products;
</code></pre>
<p>输出▼</p>
<pre><code>prod_name
8 inch teddy bear
12 inch teddy bear
18 inch teddy bear
Fish bean bag toy
Bird bean bag toy
</code></pre>
<blockquote>
<p>使用SELECT TOP 5 语句，只检索前5 行数据</p>
</blockquote>
<ul>
<li>
<p>如果你使用的是DB2，很可能习惯使用下面这一DBMS 特定的SQL 语句，像这样：</p>
<p>输入▼</p>
<pre><code>SELECT prod_name
FROM Products
FETCH FIRST 5 ROWS ONLY;
</code></pre>
</li>
</ul>
<blockquote>
<p>FETCH FIRST 5 ROWS ONLY，程序会按字面意思检索前5行</p>
</blockquote>
<ul>
<li>
<p>如果你使用Oracle，需要基于ROWNUM（行计数器）来计算行，像这样：</p>
<p>输入▼</p>
<pre><code>SELECT prod_name
FROM Products
WHERE ROWNUM &lt;=5;
</code></pre>
</li>
</ul>
<blockquote>
<p>WHERE ROWNUM &lt;=5，基于ROWNUM计算</p>
</blockquote>
<ul>
<li>
<p>如果你使用MySQL、MariaDB、PostgreSQL 或者SQLite，需要使用LIMIT子句，像这样：</p>
<p>输入▼</p>
<pre><code>SELECT prod_name
FROM Products
LIMIT 5;
</code></pre>
</li>
</ul>
<blockquote>
<p>LIMIT 5 指示MySQL等DBMS 返回不超过5 行的数据</p>
</blockquote>
<ul>
<li>
<p>为了得到后面的5 行数据，需要指定从哪儿开始以及检索的行数，像这样：</p>
<p>输入▼</p>
<pre><code>SELECT prod_name
FROM Products
LIMIT 5 OFFSET 5;
</code></pre>
</li>
</ul>
<blockquote>
<p>LIMIT 5 OFFSET 5 指示MySQL 等DBMS 返回从第5 行起的5 行数据。第一个数字是指从哪儿开始，第二个数字是检索的行数。</p>
</blockquote>
<p>注意事项</p>
<ol>
<li>第一个被检索的行是第0 行，而不是第1 行。因此，LIMIT 1 OFFSET1 会检索第2 行，而不是第1 行。</li>
<li>MySQL和MariaDB支持<em>简化版的LIMIT 4 OFFSET 3语句</em>，即<em>LIMIT 3,4</em>。使用这个语法，<strong>逗号之前的值对应OFFSET</strong>，<strong>逗号之后的值对应LIMIT</strong>。</li>
<li>并非所有的SQL 实现都一样，SQL 虽然通常都有相当一致的实现，但你不能想当然地认为它总是这样。非常基本的语句往往是容易移植的，但较复杂的语句就不同了。当你针对某个问题寻找SQL解决方案时，一定要记住这一点。</li>
</ol>
<hr>
<h4 id="使用注释">使用注释</h4>
<p>为什么需要添加注释？</p>
<ol>
<li>随着SQL语句边长，复杂性增加，有必要添加注释进行说明，便于自己日后调试，也便于他人参考。</li>
<li>适用于SQL开始处的内容，比如包含程序员的联系方式、程序描述及说明。</li>
<li>另一个重要应用是可以暂时停止不用执行的SQL代码。如果你碰到一个长SQL 语句，而只想测试它的一部分，那么应该注释掉一些代码。</li>
</ol>
<p>几种常见注释方法</p>
<p>行内注释：</p>
<pre><code>SELECT prod_name -- 这是一条注释
FROM Products;
</code></pre>
<pre><code>#这是一条注释
SELECT prod_name
FROM Products;
</code></pre>
<pre><code>/* SELECT prod_name, vend_id
FROM Products; */
SELECT prod_name
FROM Products;
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://Superbishop.github.io/tag/sql" class="tag">
                    SQL
                  </a>
                
                  <a href="https://Superbishop.github.io/tag/B3Myw-CcF" class="tag">
                    learn summary
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://Superbishop.github.io/post/lesslesssql-bi-zhi-bi-hui-greatergreater-xue-xi-bi-ji-2020-6-4">
                  <h3 class="post-title">
                    《SQL必知必会》学习笔记-2020-6-4
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '3bb4552eafc7c9ab4144',
        clientSecret: 'f10e504a6ff8534bac9d2f34638c7b681cbf3763',
        repo: 'superbishop.github.io',
        owner: 'superbishop',
        admin: ['superbishop'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
